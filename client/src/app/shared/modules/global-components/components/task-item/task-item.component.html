<div class="task-item">
  <div class="task-item__row">
    <div>
      <div class="task-item__cover">
        <mat-checkbox
          [checked]="task.completed"
          class="example-margin"
          color="primary"
          (change)="onComplete()"
        >
        </mat-checkbox>
        <span class="task-item__text">{{ task.title }}</span>
      </div>
      <div class="task-item__footer">
        <span>
          {{
            task.period === "today" || task.period === "tomorrow"
              ? (task.period | titlecase)
              : (task.plannedDate | date: "MM/dd/yyyy")
          }}
        </span>
        <span *ngIf="task.projectRef?.title && mode" class="task-item__dot"
          >&middot;</span
        >
        <span
          class="task-item__label"
          *ngIf="task.projectRef?.title && mode"
          (click)="openProject()"
          [title]="task.projectRef?.title ? task.projectRef?.title : ''"
        >
          {{ task.projectRef?.title | truncate: 15 }}
        </span>
      </div>
    </div>

    <div class="task-item__buttons">
      <button class="task-item__button" mat-icon-button (click)="onEdit()">
        <mat-icon>edit</mat-icon>
      </button>
      <button class="task-item__button" mat-icon-button (click)="onDelete()">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>
</div>
